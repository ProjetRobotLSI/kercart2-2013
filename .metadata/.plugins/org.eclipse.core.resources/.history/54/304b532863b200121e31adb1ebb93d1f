package com.example.testlistview;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;

/*public class MainActivity extends Activity {

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
	}

	@Override
	public boolean onCreateOptionsMenu(Menu menu) {
		// Inflate the menu; this adds items to the action bar if it is present.
		getMenuInflater().inflate(R.menu.main, menu);
		return true;
	}

}*/


namespace GenericAdapter
{
  [Activity (Label = "BasicAdapterUsage", MainLauncher = true)]
  public class BasicAdapterUsage : Activity
  {
     List<Moto> items;


     protected override void OnCreate (Bundle bundle)
     {
        base.OnCreate (bundle);
     // Set our view from the "main" layout resource
        SetContentView (Resource.Layout.BasicView);
     // Settings data
        items = new List<Moto>();
        Moto yamaha = new Moto("Yamaha","Japon");
        Moto ducati = new Moto("Ducati","Italie");
        Moto bmw = new Moto("BMW","Allemagne");
        items.Add(yamaha);items.Add(ducati);items.Add(bmw);
        // Settings ListView
        ListView listOfMotorCycle = FindViewById<ListView>(Resource.Id.listMotorCycle);
        MotoAdapter myAdapter = new MotoAdapter(this,Resource.Layout.Moto,items);
        listOfMotorCycle.Adapter = myAdapter;
        Button btnAdd = FindViewById<Button>(Resource.Id.btnAdd);
        btnAdd.Click+=delegate{
           Moto triumph = new Moto("Triumph","Angleterre");
           myAdapter.Add(triumph);
           myAdapter.NotifyDataSetChanged();
        };
     }
  }
}